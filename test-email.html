<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Email - Khadija Parfum</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #8B4513;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        .test-button:hover {
            background: #A0522D;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .config-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .config-item {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 3px;
        }
        .config-label {
            font-weight: bold;
            color: #495057;
        }
        .config-value {
            color: #6c757d;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ Test des Notifications Email - Khadija Parfum</h1>
        
        <div class="config-section">
            <h3>üìß Configuration EmailJS</h3>
            <div class="config-item">
                <div class="config-label">Service ID:</div>
                <div class="config-value" id="serviceId">Chargement...</div>
            </div>
            <div class="config-item">
                <div class="config-label">User ID:</div>
                <div class="config-value" id="userId">Chargement...</div>
            </div>
            <div class="config-item">
                <div class="config-label">Email de notification:</div>
                <div class="config-value" id="notificationEmail">Chargement...</div>
            </div>
        </div>

        <div class="status info" id="status">
            <strong>‚ÑπÔ∏è Instructions:</strong><br>
            1. Configurez vos identifiants EmailJS dans email-config.js<br>
            2. Cr√©ez les templates email dans votre dashboard EmailJS<br>
            3. Testez les notifications ci-dessous
        </div>

        <h3>üîß Tests Disponibles</h3>
        
        <button class="test-button" onclick="testConfiguration()">
            üìã V√©rifier Configuration
        </button>
        
        <button class="test-button" onclick="testCartNotification()">
            üõí Test Notification Panier
        </button>
        
        <button class="test-button" onclick="testOrderNotification()">
            üì¶ Test Notification Commande
        </button>
        
        <button class="test-button" onclick="testEmailJS()">
            üìß Test EmailJS
        </button>

        <div id="testResults"></div>

        <div class="config-section">
            <h3>üìñ Instructions de Configuration</h3>
            <ol>
                <li>Cr√©ez un compte sur <a href="https://www.emailjs.com" target="_blank">EmailJS.com</a></li>
                <li>Connectez votre compte Gmail (amadoubasse62@gmail.com)</li>
                <li>Cr√©ez un service email et notez le Service ID</li>
                <li>Cr√©ez les templates email (voir EMAILJS_SETUP.md)</li>
                <li>Modifiez email-config.js avec vos identifiants</li>
                <li>Testez avec les boutons ci-dessus</li>
            </ol>
        </div>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
    <script src="email-config.js"></script>
    <script src="email.js"></script>
    
    <script>
        // Test functions
        function testConfiguration() {
            const status = document.getElementById('status');
            const results = document.getElementById('testResults');
            
            if (EMAILJS_CONFIG.userId === 'your_user_id_here') {
                status.className = 'status error';
                status.innerHTML = '<strong>‚ùå Configuration incompl√®te!</strong><br>Veuillez configurer vos identifiants EmailJS dans email-config.js';
                results.innerHTML = '<div class="status error">‚ùå User ID non configur√©</div>';
            } else {
                status.className = 'status success';
                status.innerHTML = '<strong>‚úÖ Configuration pr√™te!</strong><br>Vous pouvez maintenant tester les notifications email';
                results.innerHTML = '<div class="status success">‚úÖ Configuration EmailJS valide</div>';
            }
            
            // Update config display
            document.getElementById('serviceId').textContent = EMAILJS_CONFIG.serviceId;
            document.getElementById('userId').textContent = EMAILJS_CONFIG.userId;
            document.getElementById('notificationEmail').textContent = EMAILJS_CONFIG.notificationEmail;
        }

        function testCartNotification() {
            const testProduct = {
                name: "Test Parfum",
                brand: "Test Brand",
                price: 25000
            };
            
            sendCartNotificationEmail(testProduct, 2);
            
            const results = document.getElementById('testResults');
            results.innerHTML = '<div class="status info">üìß Email de test panier envoy√© √† ' + EMAILJS_CONFIG.notificationEmail + '</div>';
        }

        function testOrderNotification() {
            const testOrder = {
                items: [{
                    name: "Test Parfum",
                    brand: "Test Brand",
                    price: 25000,
                    quantity: 1
                }],
                totalAmount: 25000,
                totalItems: 1,
                customerName: "Test Client",
                customerEmail: "test@example.com",
                customerPhone: "+237 6XX XX XX XX",
                deliveryAddress: "Douala, Cameroun",
                paymentMethod: "Mobile Money"
            };
            
            sendOrderConfirmationEmail(testOrder);
            
            const results = document.getElementById('testResults');
            results.innerHTML = '<div class="status info">üìß Email de test commande envoy√© √† ' + EMAILJS_CONFIG.notificationEmail + '</div>';
        }

        function testEmailJS() {
            if (typeof emailjs !== 'undefined') {
                const results = document.getElementById('testResults');
                results.innerHTML = '<div class="status success">‚úÖ EmailJS charg√© correctement</div>';
            } else {
                const results = document.getElementById('testResults');
                results.innerHTML = '<div class="status error">‚ùå EmailJS non charg√©</div>';
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(testConfiguration, 1000);
        });
    </script>
</body>
</html>
